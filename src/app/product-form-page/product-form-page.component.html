<div class="container" [formGroup]="form">
  <div class="form-item">
    <div class="form-column">
      <label>名稱</label>
      <input type="text" formControlName="name" />
    </div>
  </div>
  <div class="form-item">
    <div class="form-column">
      <label>作者</label>
      <button type="button" (click)="onAddAuthor()">新增</button>
    </div>
  </div>
  <ng-container formArrayName="arthors">
    @for (control of authors.controls; track $index) {
    <div class="form-item">
      <div class="form-column">
        <div>
          <button type="button" (click)="authors.removeAt($index)">刪除</button>
        </div>
        <input type="text" [formControl]="control" />
      </div>
    </div>

    }
  </ng-container>

  <div class="form-item">
    <div class="form-column">
      <label>出版社</label>
      <input type="text" formControlName="company" />
    </div>
  </div>
  <div class="form-item">
    <div class="form-column">
      <label>單價</label>
      <input type="text" formControlName="price" />
    </div>
  </div>
  <div class="form-action"><button type="button">取消</button> <button type="button" class="save">儲存</button></div>
  <pre>{{ form.value|json }}</pre>
</div>
